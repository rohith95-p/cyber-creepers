name: PR Comments

on:
  pull_request:
    branches: [ main ]
    types: [opened]

jobs:
  welcome-comment:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
      issues: write
    
    steps:
    - name: Add welcome comment
      uses: actions/github-script@v7
      with:
        script: |
          const comment = `
          ## ğŸ‘‹ Welcome to langchain-salesforce!
          
          Thank you for contributing! Your pull request will be automatically checked for:
          
          - âœ… **Code formatting** (ruff format)
          - âœ… **Import sorting** (ruff)
          - âœ… **Linting** (ruff check)
          - âœ… **Type checking** (mypy)
          - âœ… **Spelling** (codespell)
          - âœ… **Unit tests** (pytest)
          
          ### ğŸ” Required Checks
          
          All pull requests must pass the following checks before merging:
          - **Pull Request Checks** workflow must complete successfully
          - All required status checks must be green
          
          ### ğŸ§ª Integration Tests
          
          Integration tests will run automatically on pushes to \`main\`. For pull requests, add the \`integration-tests\` label to trigger them.
          
          ### ğŸš€ Getting Started
          
          If you need to fix any issues:
          
          1. **Format code**: \`make format\`
          2. **Check linting**: \`make lint\`
          3. **Run tests**: \`make test\`
          
          The CI checks will update automatically when you push new commits.
          
          ### ğŸ“š Documentation
          
          - [Contributing Guidelines](../CONTRIBUTING.md)
          - [Development Setup](../README.md#development)
          
          ---
          
          *This comment was automatically generated by GitHub Actions.*
          `;
          
          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: comment
          }); 
